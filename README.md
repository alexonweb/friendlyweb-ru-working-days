# Производственный календарь

Сущность *Calendar* необходима для работы с производственным календарем в формате JSON.

## Использование 

Подключение календаря

<pre>
namespace Calendar;

include_once('calendar.php');

$calendar = new Calendar;
</pre>

### Методы

#### setDay( string $format [, int $timestamp = time() ] ) - установка даты 

Дата *$format* устанавливается в формате `date` PHP. Например, `$calendar->setDay("2017-02-22");`
Для установки текущей даты `setDay()`

#### setCalendarDir( string $dir )

#### $calendar->isHoliday() - 

Возвращает *boolean* для установленной даты. 

#### $calendar->isPreHoliday() -

Возвращает *boolean* для установленной даты. 

#### getHolidayDescription() - 

## Примеры

<pre>
namespace Calendar;

include_once('calendar.php');

$calendar = new Calendar;

$calendar->setDay("2017-02-22");

$calendar->setCalendarDir("data/russian/");

if ( $calendar->isHoliday() ) {
    echo "выходной - " . $calendar->getHolidayDescription();
};

if ($calendar->isPreHoliday() ) {
    echo "сокращенный день";
}
</pre>


## Формат календаря JSON 

Календари могут хранится в любой директории. Имя файла календаря должно соотвествовать году для календаря **{год}.json** (например, "*2017.json*", "*2018.json*").

### Пример формата календаря 

<pre>
{
    "January": 
    {
        "1-6":  
        {
            "rest": true, 
            "n": "Новый год"
        },
        "7":    {"rest": true, "n": "Рождество Христово"}
    },

    "June": 
    {
        "10":   {"rest": false},
        "12":   {"rest": true, "n": "День России"}
    }

}
</pre>

Месяц записывается в формате PHP date `date("F");` (*от January до December*).

Дни могут записываться в формате диапазона "*1-6*". В качестве разделителя используется знак минус `-`.

Для дня или диапазона дней возможны два варианта обозначения: *выходной день* или *сокращенный день*. Выходной день обозначается присваиванием значения *true* к объекту **rest** для текущего дня или диапазона дней. Сокращенный же день обозначается присваиваем значения *false*.

Например, запись `"rest": true` обзначает, что в этот день (*или диапазон дней*) выходной, а запись `"rest": false` говорит о том, что рабочий день сокращен на один час. 

Объект `n` (от *note*) используется для описания праздника. Если объект `n` для выходного дня отсутвует программа по-умолчанию присвоит значение *Выходной день*.

## Лицензия

Программа распространяется по лицензии MIT.